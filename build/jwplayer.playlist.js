jwplayerPlaylist=function(h){function l(){for(var b=c.length-1;-1<b;b--)if(void 0!==c[b].a)return b;return-1}function k(b){for(var a=0;a<b.length;a++)b[a].a=void 0;return b}var d=-1,g,c,f=!1;h().registerPlugin("jwplayer.playlist","6.0",function(b){b.onPlaylist(function(){c=b.getPlaylist();g=c.length;f=!1;for(var a=0;a<g;a++)c[a].a=a});b.onPlaylistItem(function(){var a=b.getPlaylistIndex();if(f){if(a-d+1>=g)d=c.length-1;else if(d-a+1>=g)d=(l()+1)%c.length;else for(var e=0;e<c.length;e++)if(void 0!==
c[e].a&&c[e].a>=a){d=e;break}b.load(c);b.playlistItem(d)}else d=a});b.onComplete(function(){if(d+1>=g&&f){var a=(l()+1)%c.length;b.load(c);0<a&&b.playlistItem(a)}})});return{concat:function(b){for(var a=Array.prototype.slice.call(arguments),e=0;e<a.length;e++)a[e]=k(a[e]),c=c.concat(a[e]);f=!0},getPlaylist:function(){return c},getPlaylistItem:function(b){return void 0!==b?c[b]:h().getPlaylistItem()},getPlaylistIndex:function(){var b=h().getPlaylistIndex();if(!f)return b;for(var a=0;a<c.length;a++)if(void 0!==
c[a].a){if(c[a].a==b)return a;if(c[a].a>b)break}return-1},push:function(b){var a=Array.prototype.slice.call(arguments),a=k(a);c=c.concat(a);f=!0},splice:function(b,a,e){0>b?b+=c.length:b>=c.length&&(b=c.length);var d=Array.prototype.slice.call(arguments,2);isNaN(a)&&(d=Array.prototype.concat(a,d),a=c.length);d=k(d);c=c.slice(0,b).concat(d,c.slice(b+a));f=!0}}}(jwplayer);
